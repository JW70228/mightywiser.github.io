<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MIGHTYWISER</title>
    <link rel="stylesheet" href="styles.css">

    <!-- MiSans 字体（本地引入 or CDN） -->
    <link href="https://fonts.cdnfonts.com/css/misans" rel="stylesheet">

</head>
<body>

<header class="navbar">
    <div class="nav-container">
        <div class="logo">
            <a href="index.html">
                <img src="img/logo.png" alt="logo">
            </a>
        </div>

        <nav class="nav-links">
            <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="services.html">Services</a>
            <a href="projects.html">Projects</a>
            <a href="contact_us.html" class="contact-btn">Contact Us</a>
        </nav>

        <!-- Mobile hamburger -->
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
    </div>

    <!-- Mobile slide menu -->
    <div class="mobile-menu">
        <a href="index.html">Home</a>
            <a href="about.html">About</a>
            <a href="#">Services</a>
            <a href="#">Projects</a>
            <a href="#">Contact Us</a>
    </div>
</header>

<section class="hero">
    <div class="hero-content">
        <h1>Global Materials<br>Local Care.</h1>

        <div class="hero-btn">Learn More</div>
    </div>
</section>

<section class="services">
    <div class="service-card">
        <div class="service-img">
            <img src="img/b3.jpg" alt="">
        </div>
        <div class="service-content">
            <h3>Residential & Commercial Construction</h3>
            <p>
                Call out a feature, benefit, or value of your site or product that can stand on its own.
            </p>
            <div class="service-link">Call to action →</div>
        </div>
    </div>

    <div class="service-card">
        <div class="service-img">
            <img src="img/n1.webp" alt="">
        </div>
        <div class="service-content dark">
            <h3>Global Material Direct Supply</h3>
            <p>
                Cards are a great way to organize content in a collection—products, case studies, services, and more.
            </p>
            <div class="service-link">Call to action →</div>
        </div>
    </div>

    <div class="service-card">
        <div class="service-img">
            <img src="img/1.jpg" alt="">
        </div>
        <div class="service-content">
            <h3>Local Team Support</h3>
            <p>
                Add more cards to this little stack to build out a grid of whatever size and shape you need.
            </p>
            <div class="service-link">Call to action →</div>
        </div>
    </div>
</section>

<!-- =======================
     SOLUTION SECTION
======================= -->
<section class="solution-section">
    <div class="solution-overlay"></div>

    <div class="solution-content">
        <h2>One-Stop<br>Tailored Solutions</h2>

        <div class="solution-buttons">
            <div class="solution-btn primary">Call to action</div>
            <div class="solution-btn secondary">Secondary</div>
        </div>
    </div>
</section>


<!-- =======================
     DUAL SECTION
======================= -->
<section class="dual-section">
    <!-- 左侧黑色内容块 -->
    <div class="dual-left">
        <h2>A bold headline<br>that delivers</h2>
        <p>
            Go ahead and say just a little more about what you do.
        </p>

        <div class="dual-buttons">
            <div class="dual-btn primary">Call to action</div>
            <div class="dual-btn secondary">Secondary</div>
        </div>
    </div>

    <!-- 右侧背景图（b5.png） -->
    <div class="dual-right"></div>
</section>

<section class="cta-section">
    <div class="cta-container">
        <h2 class="cta-title">Build Wiser,<br>Live Better.</h2>

        <p class="cta-subtitle">Choose MightyWiser.</p>

        <div class="cta-buttons">
            <div class="cta-btn-primary">Call to action</div>
            <div class="cta-btn-secondary">Secondary</div>
        </div>
    </div>
</section>

<!-- ================================
     无限横向滚动图片区（新版无缝）
================================ -->

<section class="scroll-gallery">
    <div class="scroll-track" id="scroll-track">
        <img src="img/b3.jpg" loading="eager">
        <img src="img/b4.jpg" loading="eager">
        <img src="img/b1.jpg" loading="eager">
        <img src="img/b2.jpg" loading="eager">
    </div>
</section>



<footer>

    <!-- ========== 上半部分（白色） ========== -->
    <div class="footer-main">
        <div class="footer-col brand">
            <h3>MIGHTYWISER</h3>
            <p>Descriptive line about what your company does.</p>

            <div class="footer-social">
                <img src="img/instagram.png" alt="">
                <a href="https://www.linkedin.com/company/109632428/admin/dashboard/" target="_blank">
                    <img src="img/linkedin.png" alt="LinkedIn">
                </a>
                
            </div>
        </div>

        <div class="footer-col">
            <h4>Features</h4>
            <a href="#">Core features</a>
            <a href="#">Pro experience</a>
            <a href="#">Integrations</a>
        </div>

        <div class="footer-col">
            <h4>Learn more</h4>
            <a href="#">Blog</a>
            <a href="#">Case studies</a>
            <a href="#">Customer stories</a>
            <a href="#">Best practices</a>
        </div>

        <div class="footer-col">
            <h4>Support</h4>
            <a href="#">Contact</a>
            <a href="#">Support</a>
            <a href="#">Legal</a>
        </div>
    </div>

    <!-- ========== 下半部分（黄色背景） ========== -->
    <div class="footer-bottom">
        <p>Let’s work together</p>

        <div class="footer-social">
            <img src="img/instagram.png" alt="">
            <a href="https://www.linkedin.com/company/109632428/admin/dashboard/" target="_blank">
                <img src="img/linkedin.png" alt="LinkedIn">
            </a>

        </div>
    </div>

</footer>



<script src="js/nav.js"></script>

<script>
// 使用 window.onload 确保所有图片资源加载完毕，能获取真实宽度
window.addEventListener("load", () => {
    const track = document.getElementById("scroll-track");
    const speed = 1; 
    
    // 1. 先克隆节点
    const originalChildren = [...track.children];
    // 确保克隆前获取原始长度 N
    const N = originalChildren.length; 
    originalChildren.forEach(node => track.appendChild(node.cloneNode(true)));

    let pos = 0;
    let originalWidth = 0;

    // 2. 封装计算逻辑，增加 Math.round() 消除浮点数误差
    function calculateWidth() {
        let width = 0;
        
        // 关键优化 A：对所有 width 进行 Math.round() 处理
        originalChildren.forEach(img => {
            width += Math.round(img.getBoundingClientRect().width);
        });

        // 获取当前的 gap (无论是 2rem 还是 1rem)
        const gapStyle = getComputedStyle(track).gap || '0';
        
        // 更健壮的 gap 解析，以防 parseFloat 误读 '2rem'
        const gap = parseFloat(gapStyle.match(/[\d\.]+/)?.[0] || 0) * (gapStyle.includes('rem') ? parseFloat(getComputedStyle(document.documentElement).fontSize) : 16) || 0;
        
        // 核心修正：N 个元素需要 N 个 Gap，并进行四舍五入
        width += Math.round(gap * N);

        return width;
    }

    // 初始化宽度
    originalWidth = calculateWidth();

    function loop() {
        pos -= speed;

        // ⭐ 关键优化 B：简化重置逻辑，消除浮点数比较误差
        // 当滚动距离（负值）达到或超过负的原始宽度时，立刻重置到 0。
        // 这是最稳定的重置方式，因为它消除了 pos = pos + width 带来的二次浮点运算。
        if (pos <= -originalWidth) {
            pos = 0; 
        }

        // 关键优化 C：使用 translate3d 开启硬件加速
        track.style.transform = `translate3d(${pos}px, 0, 0)`; 
        requestAnimationFrame(loop);
    }

    // 启动动画
    loop();

    // 3. 监听窗口大小改变，重新计算宽度
    let resizeTimer;
    window.addEventListener('resize', () => {
        clearTimeout(resizeTimer);
        resizeTimer = setTimeout(() => {
            // 重新计算宽度，消除响应式变化带来的误差
            originalWidth = calculateWidth();
        }, 100); // 防抖
    });
});
</script>






</body>
</html>
